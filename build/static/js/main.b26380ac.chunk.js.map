{"version":3,"sources":["components/Person.js","components/Contacts.js","components/Filter.js","components/ContactForm.js","services/persons.js","App.js","index.js"],"names":["Person","person","name","number","onClick","Container","Row","Col","className","icon","DeviceMobile","verticalAlign","md","span","offset","Button","variant","Trashcan","Contacts","people","Table","bordered","hover","striped","size","map","key","Filter","filterText","filterChangeHandler","InputGroup","Prepend","Text","id","Search","FormControl","type","value","onChange","placeholder","ContactForm","show","onSubmit","onClose","newName","nameChangeHandler","newNumber","numberChangeHandler","Modal","onHide","Header","closeButton","Title","Body","Form","Group","controlId","Control","ButtonToolbar","baseUrl","axios","get","then","response","data","newObject","post","put","delete","App","useState","setPeople","setNewName","setNewNumber","setFilterText","infoMessage","setInfoMessage","showMessage","setShowMessage","setShow","toggleShowMessage","handleClose","updateContact","personToUpdate","find","personsService","updatedPerson","showInfoMessage","catch","error","console","log","filter","message","messageLevel","useEffect","initialPeople","fluid","xs","lg","Card","bg","Repo","event","target","regex","RegExp","match","peopleToShow","window","confirm","Toast","style","position","top","right","delay","autohide","PrimitiveDot","preventDefault","newPerson","some","createdPerson","concat","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.b26380ac.chunk.js","sourcesContent":["import React from 'react'\nimport { Button, Container, Row, Col } from 'react-bootstrap'\nimport Octicon, { Trashcan, DeviceMobile } from '@primer/octicons-react'\n\nconst Person = ({ person: { name, number }, onClick }) => {\n    return (\n        <tr>\n            <td>\n                <Container>\n                    <Row>\n                        <Col className=\"ml-4 mt-2 mb-2\">\n                            <Row className=\"text-capitalize\">\n                                <h5>\n                                    {name}\n                                </h5>\n                            </Row>\n                            <Row className=\"text-muted text-capitalize\">\n                                <h6>\n                                    <Octicon icon={DeviceMobile} verticalAlign='middle' />\n                                    {'  ' + number}\n                                </h6>\n                            </Row>\n                        </Col>\n                        <Col className=\"text-right mt-3\" md={{ span: 2, offset: 5 }}>\n                            <p>\n                                <Button\n                                    variant=\"danger\"\n                                    onClick={() => onClick(name)}>\n                                    <Octicon icon={Trashcan} verticalAlign='top' />\n                                </Button>\n                            </p>\n                        </Col>\n                    </Row>\n                </Container>\n            </td>\n        </tr>\n    )\n}\n\nexport default Person","import React from 'react'\nimport Person from './Person'\nimport { Table } from 'react-bootstrap'\n\nconst Contacts = ({ people, onClick }) => {\n    const rows = () => people.map(person =>\n        <Person key={person.name} person={person} onClick={onClick}></Person>\n    )\n    return (\n        <Table bordered hover striped size=\"sm\">\n            <tbody>\n                {rows()}\n            </tbody>\n        </Table>\n    )\n}\nexport default Contacts","import React from 'react'\nimport InputGroup from 'react-bootstrap/InputGroup';\nimport Octicon, { Search } from '@primer/octicons-react'\nimport { FormControl } from 'react-bootstrap';\n\nconst Filter = ({filterText, filterChangeHandler }) => {\n    return (\n        <InputGroup className=\"mb-3\">\n            <InputGroup.Prepend>\n                <InputGroup.Text id=\"basic-addon1\">\n                    <Octicon icon={Search} verticalAlign='middle' />\n                </InputGroup.Text>\n            </InputGroup.Prepend>\n                <FormControl\n                    type=\"text\"\n                    value={filterText}\n                    onChange={filterChangeHandler}\n                    placeholder=\"Filter...\" />\n        </InputGroup>\n    )\n}\nexport default Filter","import React from 'react'\nimport Button from 'react-bootstrap/Button';\nimport { Form, Modal, ButtonToolbar } from 'react-bootstrap';\n\nconst ContactForm = ({ show, onSubmit, onClose, newName, nameChangeHandler, newNumber, numberChangeHandler }) => {\n    return (\n        <>\n            <Modal show={show} onHide={onClose}>\n                <Modal.Header closeButton>\n                    <Modal.Title>Add Contact</Modal.Title>\n                </Modal.Header>\n                <Modal.Body>\n                    <Form onSubmit={onSubmit}>\n                        <Form.Group controlId=\"name\">\n                            <Form.Control\n                                type=\"text\"\n                                value={newName}\n                                onChange={nameChangeHandler}\n                                placeholder=\"Name\" />\n                        </Form.Group>\n                        <Form.Group controlId=\"number\">\n                            <Form.Control\n                                type=\"text\"\n                                value={newNumber}\n                                onChange={numberChangeHandler}\n                                placeholder=\"Number\" />\n                        </Form.Group>\n                        <ButtonToolbar className=\"justify-content-between\">\n                            <Button className=\"pl-4 pr-4 pt-2 pb-2\" type=\"submit\" variant=\"primary\">Add</Button>\n                            <Button className=\"pl-4 pr-4 pt-2 pb-2\" onClick={onClose} variant=\"secondary\">Cancel</Button>\n                        </ButtonToolbar>\n                    </Form>\n                </Modal.Body>\n            </Modal>\n        </>\n    )\n}\n\nexport default ContactForm","import axios from 'axios'\nconst baseUrl = 'api/persons'\n\nconst getAll = () => axios.get(baseUrl).then(response => response.data)\n\nconst create = newObject => axios.post(baseUrl, newObject).then(response => response.data)\n\nconst update = (id, newObject) => axios.put(`${baseUrl}/${id}`, newObject).then(response => response.data)\n\nconst remove = id => axios.delete(`${baseUrl}/${id}`)\n\n\nexport default { getAll, create, update, remove }","import React, { useState, useEffect } from 'react'\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport Container from 'react-bootstrap/Container';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport Card from 'react-bootstrap/Card';\nimport Toast from 'react-bootstrap/Toast';\nimport Button from 'react-bootstrap/Button';\n\nimport Contacts from './components/Contacts'\nimport Filter from './components/Filter'\nimport ContactForm from './components/ContactForm'\nimport personsService from './services/persons'\nimport Octicon, { Repo, PrimitiveDot } from '@primer/octicons-react'\n\nconst App = () => {\n  const [people, setPeople] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [filterText, setFilterText] = useState('')\n  const [infoMessage, setInfoMessage] = useState('')\n  const [showMessage, setShowMessage] = useState(false);\n  const [show, setShow] = useState(false);\n\n  const handleNameChange = event => setNewName(event.target.value)\n  const handleNumberChange = event => setNewNumber(event.target.value)\n  const handleFilterChange = event => setFilterText(event.target.value)\n  const toggleShowMessage = () => setShowMessage(!showMessage);\n  const handleClose = () => setShow(false);\n  const handleShow = () => setShow(true);\n\n  const addContact = event => {\n    event.preventDefault()\n    if (newName !== '' && newNumber !== '') {\n      const newPerson = { name: newName, number: newNumber }\n      if (people.some(person => person.name === newName)) {\n        if (window.confirm(`${newName} has already been added to the phonebook.\n        Replace the old number with a new one?`)) {\n          updateContact(newPerson)\n        }\n      }\n      else {\n        personsService\n          .create(newPerson)\n          .then(createdPerson => {\n            setPeople(people.concat(createdPerson))\n            showInfoMessage(`Added ${newPerson.name}`)\n          })\n          .catch(error => showInfoMessage(error.response.data.error))\n      }\n    }\n    handleClose();\n  }\n\n  const deleteContact = name => {\n    if (window.confirm(`Delete ${name}?`)) {\n      const id = people.find(person => person.name === name).id\n      personsService\n        .remove(id)\n        .then(() => {\n          setPeople(people.filter(person => person.name !== name))\n        })\n    }\n  }\n\n  const updateContact = personToUpdate => {\n    const id = people.find(person => person.name === personToUpdate.name).id\n    personsService\n      .update(id, personToUpdate)\n      .then(updatedPerson => {\n        setPeople(people.map(person => person.name === personToUpdate.name ? updatedPerson : person))\n        showInfoMessage(`Updated ${updatedPerson.name}`)\n      }).catch(error => {\n        console.log(error)\n        showInfoMessage(`Couln't update: information about ${personToUpdate.name} \n        has been removed from the server.`)\n        setPeople(people.filter(person => person.name !== personToUpdate.name))\n      })\n  }\n\n  const showInfoMessage = (message, messageLevel) => {\n    setInfoMessage(message)\n    toggleShowMessage()\n  }\n\n  useEffect(() => {\n    personsService.getAll()\n      .then(initialPeople => setPeople(initialPeople))\n  }, [])\n\n  const peopleToShow = () => {\n    const regex = new RegExp(`.*${filterText}.*`, 'gi');\n    return people.filter(person => person.name.match(regex))\n  }\n\n  return (\n    <div className=\"m-0 p-0 bg-light\">\n      <style type=\"text/css\">\n        {`\n          .card-neo {\n            border-radius: 34px;\n            background: #f7f7f7;\n            box-shadow: 6px 6px 12px #c8c8c8, \n            -6px -6px 12px #ffffff;\n          }\n          `}\n      </style>\n      <Container className=\"border-0 justify-content-md-center\" fluid>\n        <Row>\n          <Col xs={1} md={3}>\n          </Col>\n          <Col lg={true}>\n            <Card className=\"mt-5 mb-5 border-0 rounded-lg card-neo neo p-3\" bg=\"light\">\n              <Container>\n                <Row>\n                  <Col></Col>\n                  <Col className=\"text-center mt-3 ml-3 mr-3\">\n                    <h1>\n                      <Octicon icon={Repo} verticalAlign='middle' size='large' />\n                      Phonebook\n                    </h1>\n                  </Col>\n                  <Col className=\"text-right align-middle\">\n                    <Button\n                      variant=\"primary\"\n                      size=\"lg\"\n                      onClick={handleShow}\n                      className=\"text-right align-middle\"\n                      md={{ span: 2, offset: 5 }}>\n                      + Add Contact\n                </Button>\n                  </Col>\n                </Row>\n                <Row>\n                  <h2 className=\"mb-1 mt-2\">Contacts</h2>\n                  <Filter\n                    value={filterText}\n                    filterChangeHandler={handleFilterChange} >\n                  </Filter>\n                  <Contacts people={peopleToShow()} onClick={deleteContact}></Contacts>\n                </Row>\n              </Container>\n            </Card>\n          </Col>\n          <Col xs={1} md={3}>\n          </Col>\n        </Row>\n      </Container>\n      <Toast style={{\n        position: 'absolute',\n        top: 0,\n        right: 0,\n      }}\n        show={showMessage} onClose={toggleShowMessage}\n        delay={3000} autohide>\n        <Toast.Header>\n          <Octicon icon={PrimitiveDot} verticalAlign='middle' />\n          <strong className=\"mr-auto\">  Contacts</strong>\n        </Toast.Header>\n        <Toast.Body>{infoMessage}</Toast.Body>\n      </Toast>\n      <ContactForm\n        show={show}\n        onSubmit={addContact}\n        onClose={handleClose}\n        newName={newName} nameChangeHandler={handleNameChange}\n        newNumber={newNumber} numberChangeHandler={handleNumberChange}>\n      </ContactForm>\n    </div>\n  )\n}\n\nexport default App","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\nimport './index.css'\n\nReactDOM.render(\n    <App />,\n    document.getElementById('root')\n)"],"sourceRoot":""}