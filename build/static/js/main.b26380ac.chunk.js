(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{48:function(e,t,n){e.exports=n(80)},79:function(e,t,n){},80:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(13),l=n.n(c),o=n(17),m=(n(55),n(33)),u=n(29),i=n(15),s=n(47),d=n(31),f=n(23),p=n(9),E=function(e){var t=e.person,n=t.name,a=t.number,c=e.onClick;return r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement(m.a,null,r.a.createElement(u.a,null,r.a.createElement(i.a,{className:"ml-4 mt-2 mb-2"},r.a.createElement(u.a,{className:"text-capitalize"},r.a.createElement("h5",null,n)),r.a.createElement(u.a,{className:"text-muted text-capitalize"},r.a.createElement("h6",null,r.a.createElement(p.f,{icon:p.a,verticalAlign:"middle"}),"  "+a))),r.a.createElement(i.a,{className:"text-right mt-3",md:{span:2,offset:5}},r.a.createElement("p",null,r.a.createElement(f.a,{variant:"danger",onClick:function(){return c(n)}},r.a.createElement(p.f,{icon:p.e,verticalAlign:"top"}))))))))},b=n(82),h=function(e){var t=e.people,n=e.onClick;return r.a.createElement(b.a,{bordered:!0,hover:!0,striped:!0,size:"sm"},r.a.createElement("tbody",null,t.map((function(e){return r.a.createElement(E,{key:e.name,person:e,onClick:n})}))))},g=n(30),v=n(45),C=function(e){var t=e.filterText,n=e.filterChangeHandler;return r.a.createElement(g.a,{className:"mb-3"},r.a.createElement(g.a.Prepend,null,r.a.createElement(g.a.Text,{id:"basic-addon1"},r.a.createElement(p.f,{icon:p.d,verticalAlign:"middle"}))),r.a.createElement(v.a,{type:"text",value:t,onChange:n,placeholder:"Filter..."}))},x=n(84),N=n(85),w=n(83),y=function(e){var t=e.show,n=e.onSubmit,a=e.onClose,c=e.newName,l=e.nameChangeHandler,o=e.newNumber,m=e.numberChangeHandler;return r.a.createElement(r.a.Fragment,null,r.a.createElement(x.a,{show:t,onHide:a},r.a.createElement(x.a.Header,{closeButton:!0},r.a.createElement(x.a.Title,null,"Add Contact")),r.a.createElement(x.a.Body,null,r.a.createElement(N.a,{onSubmit:n},r.a.createElement(N.a.Group,{controlId:"name"},r.a.createElement(N.a.Control,{type:"text",value:c,onChange:l,placeholder:"Name"})),r.a.createElement(N.a.Group,{controlId:"number"},r.a.createElement(N.a.Control,{type:"text",value:o,onChange:m,placeholder:"Number"})),r.a.createElement(w.a,{className:"justify-content-between"},r.a.createElement(f.a,{className:"pl-4 pr-4 pt-2 pb-2",type:"submit",variant:"primary"},"Add"),r.a.createElement(f.a,{className:"pl-4 pr-4 pt-2 pb-2",onClick:a,variant:"secondary"},"Cancel"))))))},j=n(24),k=n.n(j),O="api/persons",S=function(){return k.a.get(O).then((function(e){return e.data}))},A=function(e){return k.a.post(O,e).then((function(e){return e.data}))},H=function(e,t){return k.a.put("".concat(O,"/").concat(e),t).then((function(e){return e.data}))},z=function(e){return k.a.delete("".concat(O,"/").concat(e))},B=function(){var e=Object(a.useState)([]),t=Object(o.a)(e,2),n=t[0],c=t[1],l=Object(a.useState)(""),E=Object(o.a)(l,2),b=E[0],g=E[1],v=Object(a.useState)(""),x=Object(o.a)(v,2),N=x[0],w=x[1],j=Object(a.useState)(""),k=Object(o.a)(j,2),O=k[0],B=k[1],I=Object(a.useState)(""),T=Object(o.a)(I,2),D=T[0],F=T[1],G=Object(a.useState)(!1),J=Object(o.a)(G,2),P=J[0],R=J[1],U=Object(a.useState)(!1),q=Object(o.a)(U,2),K=q[0],L=q[1],M=function(){return R(!P)},Q=function(){return L(!1)},V=function(e){var t=n.find((function(t){return t.name===e.name})).id;H(t,e).then((function(t){c(n.map((function(n){return n.name===e.name?t:n}))),W("Updated ".concat(t.name))})).catch((function(t){console.log(t),W("Couln't update: information about ".concat(e.name," \n        has been removed from the server.")),c(n.filter((function(t){return t.name!==e.name})))}))},W=function(e,t){F(e),M()};Object(a.useEffect)((function(){S().then((function(e){return c(e)}))}),[]);return r.a.createElement("div",{className:"m-0 p-0 bg-light"},r.a.createElement("style",{type:"text/css"},"\n          .card-neo {\n            border-radius: 34px;\n            background: #f7f7f7;\n            box-shadow: 6px 6px 12px #c8c8c8, \n            -6px -6px 12px #ffffff;\n          }\n          "),r.a.createElement(m.a,{className:"border-0 justify-content-md-center",fluid:!0},r.a.createElement(u.a,null,r.a.createElement(i.a,{xs:1,md:3}),r.a.createElement(i.a,{lg:!0},r.a.createElement(s.a,{className:"mt-5 mb-5 border-0 rounded-lg card-neo neo p-3",bg:"light"},r.a.createElement(m.a,null,r.a.createElement(u.a,null,r.a.createElement(i.a,null),r.a.createElement(i.a,{className:"text-center mt-3 ml-3 mr-3"},r.a.createElement("h1",null,r.a.createElement(p.f,{icon:p.c,verticalAlign:"middle",size:"large"}),"Phonebook")),r.a.createElement(i.a,{className:"text-right align-middle"},r.a.createElement(f.a,{variant:"primary",size:"lg",onClick:function(){return L(!0)},className:"text-right align-middle",md:{span:2,offset:5}},"+ Add Contact"))),r.a.createElement(u.a,null,r.a.createElement("h2",{className:"mb-1 mt-2"},"Contacts"),r.a.createElement(C,{value:O,filterChangeHandler:function(e){return B(e.target.value)}}),r.a.createElement(h,{people:function(){var e=new RegExp(".*".concat(O,".*"),"gi");return n.filter((function(t){return t.name.match(e)}))}(),onClick:function(e){if(window.confirm("Delete ".concat(e,"?"))){var t=n.find((function(t){return t.name===e})).id;z(t).then((function(){c(n.filter((function(t){return t.name!==e})))}))}}}))))),r.a.createElement(i.a,{xs:1,md:3}))),r.a.createElement(d.a,{style:{position:"absolute",top:0,right:0},show:P,onClose:M,delay:3e3,autohide:!0},r.a.createElement(d.a.Header,null,r.a.createElement(p.f,{icon:p.b,verticalAlign:"middle"}),r.a.createElement("strong",{className:"mr-auto"},"  Contacts")),r.a.createElement(d.a.Body,null,D)),r.a.createElement(y,{show:K,onSubmit:function(e){if(e.preventDefault(),""!==b&&""!==N){var t={name:b,number:N};n.some((function(e){return e.name===b}))?window.confirm("".concat(b," has already been added to the phonebook.\n        Replace the old number with a new one?"))&&V(t):A(t).then((function(e){c(n.concat(e)),W("Added ".concat(t.name))})).catch((function(e){return W(e.response.data.error)}))}Q()},onClose:Q,newName:b,nameChangeHandler:function(e){return g(e.target.value)},newNumber:N,numberChangeHandler:function(e){return w(e.target.value)}}))};n(79);l.a.render(r.a.createElement(B,null),document.getElementById("root"))}},[[48,1,2]]]);
//# sourceMappingURL=main.b26380ac.chunk.js.map