{"version":3,"sources":["components/Person.js","components/Contacts.js","components/Filter.js","components/ContactForm.js","services/persons.js","components/Notification.js","App.js","index.js"],"names":["Person","person","name","number","onClick","Contacts","people","map","key","Filter","text","filterText","filterChangeHandler","value","onChange","ContactForm","onSubmit","newName","nameChangeHandler","newNumber","numberChangeHandler","id","type","baseUrl","axios","get","then","response","data","newObject","post","put","delete","Notification","message","className","App","useState","setPeople","setNewName","setNewNumber","setFilterText","infoMessage","setInfoMessage","messageType","setMessageType","updateContact","personToUpdate","find","personsService","updatedPerson","showInfoMessage","catch","error","console","log","filter","messageLevel","setTimeout","useEffect","initialPeople","event","target","preventDefault","newPerson","some","window","confirm","createdPerson","concat","regex","RegExp","match","peopleToShow","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.4ecdf24c.chunk.js","sourcesContent":["import React from 'react'\n\nconst Person = ({ person: { name, number }, onClick }) => {\n    return (\n        <div>\n            <li>\n                <div>\n                    {name} {number}\n                </div>\n                <div>\n                    <button onClick={() => onClick(name)}>delete</button>\n                </div>\n            </li>\n        </div>\n    )\n}\n\nexport default Person","import React from 'react'\nimport Person from './Person'\n\nconst Contacts = ({ people , onClick}) => {\n    const rows = () => people.map(person =>\n        <Person key={person.name} person={person} onClick={onClick}></Person>\n    )\n    return (\n        <div>\n            <ul>\n                {rows()}\n            </ul>\n        </div>\n    )\n}\nexport default Contacts","import React from 'react'\n\nconst Filter = ({text, filterText, filterChangeHandler }) => {\n    return (\n        <div>\n            {text} <input value={filterText} onChange={filterChangeHandler} />\n        </div>\n    )\n}\nexport default Filter","import React from 'react'\n\nconst ContactForm = ({ onSubmit, newName, nameChangeHandler, newNumber, numberChangeHandler }) => {\n    return (\n        <>\n            <h3>Add new contact</h3>\n            <form onSubmit={onSubmit}>\n                <div>\n                    name: <input id='name' value={newName} onChange={nameChangeHandler} />\n                </div>\n                <div>\n                    number: <input id='number' value={newNumber} onChange={numberChangeHandler} />\n                </div>\n                <div>\n                    <button type=\"submit\">add</button>\n                </div>\n            </form>\n        </>\n    )\n}\n\nexport default ContactForm ","import axios from 'axios'\nconst baseUrl = 'api/persons'\n\nconst getAll = () => axios.get(baseUrl).then(response => response.data)\n\nconst create = newObject => axios.post(baseUrl, newObject).then(response => response.data)\n\nconst update = (id, newObject) => axios.put(`${baseUrl}/${id}`, newObject).then(response => response.data)\n\nconst remove = id => axios.delete(`${baseUrl}/${id}`)\n\nexport default { getAll, create, update, remove}","import React from 'react'\n\nconst Notification = ({ message , type }) => {\n    if (message === null || message === '') {\n      return null\n    }\n  \n    return (\n      <div className={type}>\n        {message}\n      </div>\n    )\n  }\n\nexport default Notification","import React, { useState, useEffect } from 'react'\n\nimport Contacts from './components/Contacts'\nimport Filter from './components/Filter'\nimport ContactForm from './components/ContactForm'\nimport personsService from './services/persons'\nimport Notification from './components/Notification'\n\nconst App = () => {\n  const [people, setPeople] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [filterText, setFilterText] = useState('')\n  const [infoMessage, setInfoMessage] = useState('')\n  const [messageType, setMessageType] = useState('success')\n\n  const handleNameChange = event => setNewName(event.target.value)\n  const handleNumberChange = event => setNewNumber(event.target.value)\n  const handleFilterChange = event => setFilterText(event.target.value)\n\n  const addContact = event => {\n    event.preventDefault()\n    if (newName !== '' && newNumber !== '') {\n      const newPerson = { name: newName, number: newNumber }\n      if (people.some(person => person.name === newName)) {\n        if (window.confirm(`${newName} has already been added to the phonebook. Replace the old number with a new one?`)) {\n          updateContact(newPerson)\n        }\n      }\n      else {\n        personsService.create(newPerson).then(createdPerson => {\n          setPeople(people.concat(createdPerson))\n          showInfoMessage(`Added ${newPerson.name}`, 'success')\n        })\n      }\n    }\n  }\n\n  const deleteContact = name => {\n    if (window.confirm(`Delete ${name}?`)) {\n      const id = people.find(person => person.name === name).id\n      personsService\n        .remove(id)\n        .then(() => setPeople(people.filter(person => person.name !== name)))\n    }\n  }\n\n  const updateContact = personToUpdate => {\n    const id = people.find(person => person.name === personToUpdate.name).id\n    personsService\n      .update(id, personToUpdate)\n      .then(updatedPerson => {\n        setPeople(people.map(person => person.name === personToUpdate.name ? updatedPerson : person))\n        showInfoMessage(`Updated ${updatedPerson.name}`, 'success')\n      }).catch(error => {\n        console.log(error)\n        showInfoMessage(`Couln't update: information about ${personToUpdate.name} has been removed from the server.`, 'error')\n        setPeople(people.filter(person => person.name !== personToUpdate.name))\n      })\n  }\n\n  const showInfoMessage = (message, messageLevel) => {\n    setMessageType(messageLevel)\n    setInfoMessage(message)\n    setTimeout(() => {\n      setInfoMessage(null)\n    }, 5000)\n  }\n\n  useEffect(() => {\n    personsService.getAll()\n      .then(initialPeople => setPeople(initialPeople))\n  }, [])\n\n  const peopleToShow = () => {\n    const regex = new RegExp(`.*${filterText}.*`, 'gi');\n    return people.filter(person => person.name.match(regex))\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={infoMessage} type={messageType} />\n      <Filter text={'filter: '} value={filterText} filterChangeHandler={handleFilterChange} ></Filter>\n\n      <ContactForm\n        onSubmit={addContact}\n        newName={newName} nameChangeHandler={handleNameChange}\n        newNumber={newNumber} numberChangeHandler={handleNumberChange}>\n      </ContactForm>\n\n      <h2>Numbers</h2>\n      <Contacts people={peopleToShow()} onClick={deleteContact}></Contacts>\n    </div>\n  )\n}\n\nexport default App","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\nimport './index.css'\n\nReactDOM.render(\n    <App />,\n    document.getElementById('root')\n)"],"sourceRoot":""}